/*
 * Copyright (c) 2022 The ZMK Contributors
 *
 * SPDX-License-Identifier: MIT
 */

#include <dt-bindings/zmk/keys.h>
#include <behaviors.dtsi>
#include <dt-bindings/zmk/macro.h>
#include <dt-bindings/zmk/kscan_mock.h>

/ {
	macros {
		slash_macro: slash_macro {
			#binding-cells = <2>;
			label = "ZM_SLASH";
			compatible = "zmk,behavior-macro-two-param";
			wait-ms = <40>;
			tap-ms = <40>;
			bindings = <&kp MACRO_PARAM1 &kp SLASH &kp MACRO_PARAM2>;
		};

		quote_letter_macro: quote_letter_macro {
			#binding-cells = <1>;
			label = "ZMK_QLET";
			compatible = "zmk,behavior-macro-one-param";
			wait-ms = <40>;
			tap-ms = <40>;
			bindings = <&kp QUOT &kp MACRO_PARAM1 &kp QUOT>;
		};
	};

	behaviors {

	};

	keymap {
		compatible = "zmk,keymap";
		label = "Default keymap";

		default_layer {
			bindings = <
			&slash_macro A B &quote_letter_macro B
			&kp B &kp C>;
		};
	};
};

&kscan {
	events = <ZMK_MOCK_PRESS(0,0,20) ZMK_MOCK_PRESS(0,1,10) ZMK_MOCK_RELEASE(0,1,10) ZMK_MOCK_RELEASE(0,0,1000)>;
};